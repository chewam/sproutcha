<!DOCTYPE html>
<html>
    <head>
        <title>SproutCha</title>

        <meta name="keywords" content="javascript, framework, compare, examples, extjs, sencha, comparison, ember, ember, http://github.com/goldledoigt/sproutcha, http://goldledoigt.github.com/sproutcha, aspects" />
        <meta name="description" content="The aim of this project is to compare the libraries Ember and Sencha. This comparison is done on small examples illustrating some imporant features of these two frameworks. The examples are not intended to teach the best practices of those libraries, but rather to show how to perform a specific task in the easiest way.

        Because Ember does not have any UI at the moment, the graphical components of Sencha are not used and all examples are based on the CSS library Bootstrap, from Twitter.

        Note that the comparison is not exclusively for Ember and Sencha, feel free to provide examples based on other libraries on GitHub." />

        <link rel="stylesheet" href="http://twitter.github.com/bootstrap/1.4.0/bootstrap.min.css">
        <script type="text/javascript" src="//platform.twitter.com/widgets.js"></script>
        <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
        <script src="http://code.jquery.com/jquery-1.7.1.min.js" type="text/javascript"></script>
        <script type="text/javascript" src="https://raw.github.com/twitter/bootstrap/master/js/bootstrap-tabs.js"></script>
        <script type="text/javascript" src="https://raw.github.com/twitter/bootstrap/master/js/bootstrap-scrollspy.js"></script>

        <style>
            body {
                margin: 0;
                padding: 70px 0 0 0;
            }
            p {
                text-align: justify;
            }
            h1 {
                margin-bottom: 30px;
            }
            pre {
                color: #195F91;
                background-color: #FEFBF3;
            }
            .topbar {
                height: 30px;
            }
            .topbar div > ul a, .nav a {
                padding: 3px 10px 6px;
            }
            .topbar h3 a, .topbar .brand {
                font-size: 16px;
                padding: 4px 20px 8px;
            }
            .social-buttons {
                top: 10px;
                position: relative;
            }
            .header-text [class*="span"] {
                text-align: center;
            }
            .header-text .span4 a {
                font-size: 15px;
                margin: 25px 0 0;
            }
            .page-header {
                padding-top: 50px;
            }
            .box {
                padding: 10px 20px 20px;
                border: 1px solid #DDD;
                border-radius: 5px;
            }
            .sencha, .ember {
                padding: 5px 0 5px 40px;
                background-repeat: no-repeat;
            }
            .sencha {
                background-image: url('img/sencha.png');
            }
            .ember {
                background-image: url('img/ember.png');
            }
            .tabs > li > a {
                outline: none;
            }
            .pill-content > div {
                padding: 10px;
            }
            .btn.success.pull-right {
                top: -12px;
                margin: 5px 0 0 20px;
                position: relative;
            }
        </style>
    </head>

    <body id="top">

        <div class="topbar" data-scrollspy="scrollspy">
            <div class="topbar-inner">
                <div class="container">
                    <a class="brand" href="#top">SproutCha</a>
                    <ul class="nav">
                        <li class=""><a href="#class">Class</a></li>
                        <li class=""><a href="#model">Model</a></li>
                        <li class=""><a href="#store">Store</a></li>
                        <li class=""><a href="#geolocation">GeoLocation</a></li>
                        <li class=""><a href="#mvc">MVC</a></li>
                        <li class=""><a href="#routing">Routing</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="social-buttons pull-right">
                <a href="https://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a>
                <g:plusone size="medium" annotation="none"></g:plusone>
            </div>
            <h1><span class="ember">Ember</span> vs <span class="sencha">Sencha</span> <small>vs whatever...</small></h1>

            <div class="row header-text">
              <div class="span4">
                  <a href="https://github.com/goldledoigt/sproutcha/zipball/v0.1" class="btn primary">Download Version 0.1</a>
                  <a href="https://github.com/goldledoigt/sproutcha" target="_blank" class="btn">Follow On GitHub</a>
              </div>
              <div class="span12">
                  <p>The aim of this project is to compare the libraries <a target="_blank" href="http://www.emberjs.com/">Ember</a> and <a  target="_blank" href="http://www.sencha.com/">Sencha</a>. This comparison is done on small examples illustrating some imporant features of these two frameworks. The examples are not intended to teach the best practices of those libraries, but rather to show how to perform a specific task in the easiest way.</p>
                  <p>Because Ember does not have any UI at the moment, the graphical components of Sencha are not used and all examples are based on the CSS library <a href="twitter.github.com/bootstrap/">Bootstrap, from Twitter</a>.</p>
                  <p>Note that the comparison is not exclusively for Ember and Sencha, feel free to provide examples based on other libraries on <a  target="_blank" href="http://github.com/goldledoigt/sproutcha">GitHub</a>.</p>
              </div>
            </div>

            <!-- CLASS -->

            <div id="class" class="page-header"><h2>Class <small>playing with class</small></h2></div>
            <div class="row">
                <div class="span6">
                    <img class="thumbnail" src="img/class.png" alt="class">
                </div>
                <div class="span10">
                    <p>In this example a class is created and extended with statics, getters and setters.</p>

                    <!-- TABS -->

                    <ul class="tabs">
                        <li class="active"><a href="#class-sencha">ExtJS 4</a></li>
                        <li><a href="#class-ember">Ember</a></li>
                    </ul>
                    <div class="pill-content">
                        <div class="active" id="class-sencha">
                            <a class="btn success pull-right" target="_blank" href="examples/extjs/class.html">example</a>
                            <p>A Person class is created. In the config object a list of configuration options with their default values, for which automatically accessor methods are generated. The method initconfig automatically updates the values of the config attributes.</p>
                            <div style="clear: both;"></div>
                            <pre>Ext.define('My.Person', {
    id: null,
    config: {
        firstName: null,
        lastName: null
    },
    constructor: function(config) {
        this.initConfig(config);
        return this;
    }
});

var person = Ext.create('My.Person', {
    firstName: 'John',
    lastName: 'Smith'
});

person.getFirstName() // John</pre>
                            <p>An Employee class extends the Person class. ExtJS class can have static methods.</p>
                            <pre>Ext.define('My.Employee', {
    extend: 'My.Person',
    statics: {
        internalId: 0
    },
    constructor: function() {
        this.callParent(arguments);
        this.id = ++this.self.internalId;
        return this;
    }
});

var employee1 = Ext.create('My.Employee', {...});
var employee2 = Ext.create('My.Employee', {...});

employee1.id // 1
employee2.id // 2</pre>
                        </div>
                        <div id="class-ember">
                            <a class="btn success pull-right" target="_blank" href="examples/ember/class.html">example</a>
                            <p>A Person class is created with properties `firstName` and `lastName`.</p>
                            <div style="clear: both;"></div>
                            <pre>App.Person = Em.Object.extend({
  firstName: '',
  lastName: ''
});

var person = App.Person.create({
  firstName: 'John',
  lastName: 'Smith'
});

person.get('firstName') // John</pre>
                            <p>An Employee class extends the Person class. Sproutcore class can have static methods. `fullName` and `id` are computed properties. Methods `less` and `more` make use of `decrementProperty` and `incrementProperty` helpers.</p>
                            <pre>App.Employee = App.Person.extend({
  salary: 0,

  id: function() {
    return ++App.Employee.internalId;
  }.property().cacheable(),

  fullName: function() {
    return "%@ %@".fmt(this.get('firstName'), this.get('lastName'));
  }.property('firstName', 'lastName').cacheable(),

  less: function() {
    this.decrementProperty('salary', 100);
  },

  more: function() {
    this.incrementProperty('salary', 100);
  }
});

App.Employee.reopenClass({
  internalId: 0
});

var employee1 = App.Employee.create({...});
var employee2 = App.Employee.create({...});

employee1.get('id') // 1
employee2.get('id') // 2</pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MODEL -->

            <div id="model" class="page-header"><h2>Model <small>load and update data</small></h2></div>
            <div class="row">
                <div class="span6">
                    <img class="thumbnail" src="img/model.png" alt="model">
                </div>
                <div class="span10">
                    <p>In this example a model is created, data is loaded from the server and updated thanks to a form.</p>

                    <!-- TABS -->

                    <ul class="tabs">
                        <li class="active"><a href="#model-sencha">ExtJS 4</a></li>
                        <li><a href="#model-ember">Ember</a></li>
                    </ul>
                    <div class="pill-content">
                        <div class="active" id="model-sencha">
                            <a class="btn success pull-right" target="_blank" href="examples/extjs/model.html">example</a>
                            <p>Define the model</p>
                            <div style="clear: both;"></div>
                            <pre>Ext.define('Employee', {
    extend: 'Ext.data.Model',
    proxy: {
        type: 'rest',
        reader: {root: 'objects'},
        url: 'http://demo.revolunet.com:9876/api/v1/employee'
    },
    fields: ['id', 'first_name', 'last_name', 'salary']
});</pre>
                            <p>Load an employee with id = 1</p>
                            <pre>Employee.load(1, {
    success: function (employee) {...}
});</pre>
                            <p>Update and save employee data</p>
                            <pre>employee.set(data);
employee.save({
    success: function (employee) {...}
});</pre>
                        </div>
                        <div id="model-ember">
                            <a class="btn success pull-right" target="_blank" href="examples/ember/model.html">example</a>
                            <p>Define the store</p>
                            <div style="clear: both;"></div>
                            <pre>App = Em.Application.create({
  store: Em.Store.create().from('App.DataSource')
});</pre>
                            <p>Define the data source</p>
                            <pre>App.DataSource = Em.DataSource.extend({
  retrieveRecord: function(store, storeKey, id) {...},
  updateRecord: function(store, storeKey) {...}
});</pre>
                            <p>Define the model</p>
                            <pre>App.Employee = Em.Record.extend({
  primaryKey: 'id',

  firstName: Em.Record.attr(String),
  lastName: Em.Record.attr(String),
  salary: Em.Record.attr(Number)
});</pre>
                            <p>Load an employee with id = 1</p>
                            <pre>App.set('currentEmployee', App.store.find(App.Employee, 1));</pre>
                            <p>Update data via bindings</p>
                            <pre>{{#view App.Form contentBinding="App.currentEmployee"}}
  {{view App.TextField valueBinding="content.first_name"}}
{{/view}}</pre>
                            <p>Save employee data</p>
                            <pre>App.store.commitRecords();</pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- STORE -->

            <div id="store" class="page-header"><h2>Store <small>browse a set of data</small></h2></div>
            <div class="row">
                <div class="span6">
                    <img class="thumbnail" src="img/store.png" alt="store">
                </div>
                <div class="span10">
                    <p>In this example a set of elements is loaded from the server. Elements are paged 10 by 10. Templates are used to display the list of elements and information about the pagination.</p>

                    <!-- TABS -->

                    <ul class="tabs">
                        <li class="active"><a href="#store-sencha">ExtJS 4</a></li>
                        <li><a href="#store-ember">Ember</a></li>
                    </ul>
                    <div class="pill-content">
                        <div class="active" id="store-sencha">
                            <a class="btn success pull-right" target="_blank" href="examples/extjs/store.html">example</a>
                            <p>Define the model</p>
                            <div style="clear: both;"></div>
                            <pre>Ext.define('Employee', {
    extend: 'Ext.data.Model',
    proxy: {
        type: 'rest',
        reader: {
            root: 'objects',
            totalProperty: 'meta.total_count'
        },
        startParam: 'offset',
        url: 'http://demo.revolunet.com:9876/api/v1/employee'
    },
    fields: ['id', 'first_name', 'last_name', 'salary', 'company']
});</pre>
                            <p>Create and load store</p>
                            <pre>var store = Ext.create('Ext.data.Store', {
    autoLoad: true,
    pageSize: 10,
    model: 'Employee'
});</pre>
                            <p>Render employee list</p>
                            <pre>gridTpl.overwrite('grid', store.getRange());</pre>
                            <p>Change store page</p>
                            <pre>store.nextPage();
store.previousPage();</pre>
                        </div>
                        <div id="store-ember">
                            <a class="btn success pull-right" target="_blank" href="examples/ember/store.html">example</a>
                            <p>Create and load store</p>
                            <div style="clear: both;"></div>
                            <pre>App = Em.Application.create({
  store: Em.Store.create().from('App.DataSource'),

  ready: function() {
    this._super();
    App.Employees.set('contentObjects',
      App.store.find(Em.Query.remote(App.Employee)));
  }
});</pre>
                            <p>Define sparse data source</p>
                            <pre>App.DataSource = Em.DataSource.extend({
  fetch: function(store, query) {
    store.loadQueryResults(query, Em.SparseArray.create({
      delegate: this,
      store: store,
      query: query,
      rangeWindowSize: 30
    }));
    return true;
  }
});</pre>
                            <p>Define the model</p>
                            <pre>App.Employee = Em.Record.extend({
  primaryKey: 'id',

  first_name: Em.Record.attr(String),
  last_name: Em.Record.attr(String),
  salary: Em.Record.attr(Number),
  company: Em.Record.toOne('App.Company', {isMaster: true})
});

App.Company = Em.Record.extend({
  primaryKey: 'id',
  name: Em.Record.attr(String)
});</pre>
                            <p>Define the data proxy</p>
                            <pre>App.Employees = Em.ArrayProxy.create({
  rangeStart: 0,
  rangeWindowSize: 10,
  totalBinding: '.contentObjects.length',

  rangeStop: function() {
    var rangeStop = this.get('rangeStart') + this.get('rangeWindowSize'),
        length = this.get('total');
    if (rangeStop < length) {
      return rangeStop;
    }
    return length;
  }.property('rangeStart', 'rangeWindowSize', 'total').cacheable(),

  page: function() {
    return (this.get('rangeStart') / this.get('rangeWindowSize')) + 1;
  }.property('rangeStart', 'rangeWindowSize').cacheable(),

  totalPages: function() {
    return Math.ceil(this.get('total') / this.get('rangeWindowSize'));
  }.property('total', 'rangeWindowSize').cacheable()
});</pre>
                            <p>Change store page</p>
                            <pre>App.Employees.nextPage();
App.Employees.previousPage();</pre>
                        </div>
                    </div>
                </div>
            </div>


            <!-- GEOLOCATION -->

            <div id="geolocation" class="page-header"><h2>GeoLocation <small>grab your position</small></h2></div>
            <div class="row">
                <div class="span6">
                    <img class="thumbnail" src="img/geolocation.png" alt="geolocation">
                </div>
                <div class="span10">
                    <p>In this example a geolocation is grabbed from the browser.</p>

                    <!-- TABS -->

                    <ul class="tabs">
                        <li class="active"><a href="#geolocation-sencha">ExtJS 4</a></li>
                        <li><a href="#geolocation-ember">Ember</a></li>
                    </ul>
                    <div class="pill-content">
                        <div class="active" id="geolocation-sencha">
                            <a class="btn success pull-right" target="_blank" href="examples/extjs/geolocation.html">example</a>
                            <p>Define a singleton to ease the use of navigator.geolocation</p>
                            <div style="clear: both;"></div>
                            <pre>Ext.define('Geolocation', {
    singleton: true,
    isSupported: function() {...},
    getLocation: function(callback) {...}
});</pre>
                            <p>Update geolocation on button click</p>
                            <pre>Ext.select('button').on('click', function() {
    if (Geolocation.isSupported()) {
        Geolocation.getLocation(function(data) {...});
    }
});</pre>
                            <p>Show result</p>
                            <pre>locationTpl.overwrite('info', data);</pre>
                            <p>Show errors</p>
                            <pre>errorTpl.overwrite('info', {
    message: 'Geolocation is not supported by your web browser!'
});</pre>
                        </div>
                        <div id="geolocation-ember">
                            <a class="btn success pull-right" target="_blank" href="examples/ember/geolocation.html">example</a>
                            <p>Initialize a GeoLocation</p>
                            <div style="clear: both;"></div>
                            <pre>App.currentLocation = Em.GeoLocation.create({autoUpdate: false});</pre>
                            <p>Update geolocation on button click</p>
                            <pre>{{#view Em.Button target="App.currentLocation" action="updateLocation"}}
  Update
{{/view}}</pre>
                            <p>Show result</p>
                            <pre>{{#if App.currentLocation.hasLocation}}
  {{App.currentLocation.latitude}}
  {{App.currentLocation.longitude}}
{{/if}}</pre>
                            <p>Show errors</p>
                            <pre>{{#if App.currentLocation.isError}}
  {{App.currentLocation.errorObject.message}}
{{/if}}</pre>
                        </div>
                    </div>
                </div>
            </div>


            <!-- MVC -->

            <div id="mvc" class="page-header"><h2>MVC <small>use MVC pattern</small></h2></div>
            <div class="row">
                <div class="span6">
                    <img class="thumbnail" src="img/store.png" alt="geolocation">
                </div>
                <div class="span10">
                    <p>In this example an MVC pattern is designed for architecting our project.</p>

                    <!-- TABS -->

                    <ul class="tabs">
                        <li class="active"><a href="#mvc-sencha">ExtJS 4</a></li>
                        <li><a href="#mvc-ember">Ember</a></li>
                    </ul>
                    <div class="pill-content">
                        <div class="active" id="mvc-sencha">
                            <a class="btn success pull-right" target="_blank" href="examples/extjs/mvc.html">example</a>
                            <p>Define a model</p>
                            <div style="clear: both;"></div>
                            <pre>Ext.define('MyApp.model.Employee', {
    extend: 'Ext.data.Model',
    proxy: {...},
    fields: [...]
});</pre>
                            <p>Define a data store</p>
                            <pre>Ext.define('MyApp.store.Employees', {
    extend: 'Ext.data.Store',
    model: 'MyApp.model.Employee'
});</pre>
                            <p>Define views</p>
                            <pre>Ext.define('MyApp.view.EmployeeList', {
    store: 'Employees',
    extend: 'Ext.view.View',
    alias : 'widget.employeeList',
    tpl: ...
});

Ext.define('MyApp.view.PagingToolbar', {
    extend: 'Ext.Container',
    alias : 'widget.pagingToolbar',
    items: [...]
});</pre>
                            <p>Define a controller</p>
                            <pre>Ext.define('MyApp.controller.EmployeeList', {
    models: ['Employee'],
    stores: ['Employees'],
    views: ['EmployeeList', 'PagingToolbar'],
    extend: 'Ext.app.Controller',
    init: function() {...},
});</pre>
                        <p>Finally define an application, its name, its root folder and its controller</p>
                        <pre>Ext.application({
    name: 'MyApp',
    appFolder: 'mvc',
    controllers: ['EmployeeList'],
    launch: function() {...}
});</pre>
                        </div>

                        <div id="mvc-ember">
                            <a class="btn success pull-right" target="_blank" href="examples/ember/mvc.html">example</a>
                            <p>Define a model</p>
                            <div style="clear: both;"></div>
                            <pre>App.Employee = Em.Record.extend({
  primaryKey: 'id',

  first_name: Em.Record.attr(String),
  last_name: Em.Record.attr(String),
  salary: Em.Record.attr(Number),
  company: Em.Record.toOne('App.Company', {isMaster: true})
});</pre>
                            <p>Define a data source</p>
                            <pre>App.DataSource = Em.DataSource.extend({
 fetch: function() {...}
});</pre>
                            <p>Define views</p>
                            <pre>App.EmployeesListView = Em.CollectionView.extend({
  contentBinding: 'App.Employees',
  tagName: 'tbody'
});

App.ToolbarView = Em.View.extend({
  classNames: ['toolbar'],
  contentBinding: 'App.Employees'
});</pre>
                            <p>Define a controller</p>
                            <pre>App.Employees = Em.ArrayProxy.create({
  rangeStart: 0,
  rangeWindowSize: 10,
  totalBinding: '.contentObjects.length'
});</pre>
                        <p>Finally define an application</p>
                        <pre>App = Em.Application.create({
  store: Em.Store.create().from('App.DataSource'),

  ready: function() {
    ...
  }
});

</pre>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Routing -->

            <div id="routing" class="page-header"><h2>Routing <small>manage your content</small></h2></div>
            <div class="row">
                <div class="span6">
                    <img class="thumbnail" src="img/routing.png" alt="routing">
                </div>
                <div class="span10">
                    <p>In this example we use routing to manage some tabs.</p>

                    <!-- TABS -->

                    <ul class="tabs">
                        <li class="active"><a href="#routing-sencha">ExtJS 4</a></li>
                        <li><a href="#routing-ember">Ember</a></li>
                    </ul>
                    <div class="pill-content">
                        <div class="active" id="routing-sencha">
                            <a class="btn success pull-right" target="_blank" href="examples/extjs/routing.html">example</a>
                            <div style="clear: both;"></div>
                        </div>
                        <div id="routing-ember">
                            <a class="btn success pull-right" target="_blank" href="examples/ember/routing.html">example</a>
                            <p>Define a state manager</p>
                            <div style="clear: both;"></div>
                            <pre>App.tabs = Em.StateManager.create({
  rootElement: '#content',

  home: Em.ViewState.create({
    view: Em.View.create({
      templateName: 'pages/home'
    })
  })

  ...
});
</pre>
                            <p>Add a route</p>
<pre>Em.routes.add(':tab', App.tabs, 'goToState');</pre>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <footer class="footer">
            <div class="container">
                <p>Powered by <a href="http://revolunet.com/">Revolunet</a></p>
            </div>
        </footer>

        <script>
            $(function () { $('.tabs').tabs(); });
        </script>

        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-26731046-1']);
            _gaq.push(['_trackPageview']);
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>

    </body>
</html>
